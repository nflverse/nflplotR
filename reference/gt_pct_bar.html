<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Format Columns of 'gt' Tables as Percentage Bars — gt_pct_bar • nflplotR</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/IBM_Plex_Sans-0.4.10/font.css" rel="stylesheet"><link href="../deps/Fira_Code-0.4.10/font.css" rel="stylesheet"><link href="../deps/Kanit-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Format Columns of 'gt' Tables as Percentage Bars — gt_pct_bar"><meta name="description" content="Add context to your data by placing the actual values on a percentile bar.
The percentile bar is additionally colored with a colorscale based on a user
supplied color palette."><meta property="og:description" content="Add context to your data by placing the actual values on a percentile bar.
The percentile bar is additionally colored with a colorscale based on a user
supplied color palette."><meta property="og:image" content="https://nflplotr.nflverse.com/reference/figures/social_preview.png"><meta property="og:image:alt" content="nflplotR social preview card"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:creator" content="@mrcaseb"><meta name="twitter:site" content="@nflfastR"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">nflplotR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.5.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/nflplotR.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Functions</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/gt.html">nflplotR &amp; the gt Package</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
<li class="nav-item"><a class="external-link nav-link" href="https://discord.com/invite/5Er2FBnnQa" aria-label="Discord"><span class="fa fab fa-discord fa-lg"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/nflverse/nflplotR/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-packages-more" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Packages &amp; More</button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-packages-more"><li><h6 class="dropdown-header" data-toc-skip>nflverse Packages</h6></li>
    <li><a class="external-link dropdown-item" href="https://www.nflfastr.com">nflfastR</a></li>
    <li><a class="external-link dropdown-item" href="https://nflseedr.com">nflseedR</a></li>
    <li><a class="external-link dropdown-item" href="https://www.nfl4th.com">nfl4th</a></li>
    <li><a class="external-link dropdown-item" href="https://nflreadr.nflverse.com/">nflreadr</a></li>
    <li><a class="external-link dropdown-item" href="https://www.opensourcefootball.com">Open Source Football</a></li>
    <li><h6 class="dropdown-header" data-toc-skip>nflverse Data</h6></li>
    <li><a class="external-link dropdown-item" href="https://github.com/nflverse">nflverse GitHub</a></li>
    <li><a class="external-link dropdown-item" href="https://jthomasmock.github.io/espnscrapeR/">espnscrapeR Package</a></li>
    <li><h6 class="dropdown-header" data-toc-skip>ffverse</h6></li>
    <li><a class="external-link dropdown-item" href="https://www.ffverse.com">ffverse.com</a></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Format Columns of 'gt' Tables as Percentage Bars</h1>
      <small class="dont-index">Source: <a href="https://github.com/nflverse/nflplotR/blob/main/R/gt_nfl.R" class="external-link"><code>R/gt_nfl.R</code></a></small>
      <div class="d-none name"><code>gt_pct_bar.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Add context to your data by placing the actual values on a percentile bar.
The percentile bar is additionally colored with a colorscale based on a user
supplied color palette.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">gt_pct_bar</span><span class="op">(</span></span>
<span>  <span class="va">gt_tbl</span>,</span>
<span>  <span class="va">col_value</span>,</span>
<span>  <span class="va">col_pct</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  rows <span class="op">=</span> <span class="fu">gt</span><span class="fu">::</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/everything.html" class="external-link">everything</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  hide_col_pct <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  value_scale <span class="op">=</span> <span class="fl">1L</span>,</span>
<span>  value_padding_left <span class="op">=</span> <span class="st">"0px"</span>,</span>
<span>  value_padding_right <span class="op">=</span> <span class="st">"0px"</span>,</span>
<span>  value_dark_color <span class="op">=</span> <span class="st">"black"</span>,</span>
<span>  value_light_color <span class="op">=</span> <span class="st">"white"</span>,</span>
<span>  fill_palette <span class="op">=</span> <span class="st">"hulk"</span>,</span>
<span>  fill_palette.reverse <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  fill_na.color <span class="op">=</span> <span class="st">"#808080"</span>,</span>
<span>  fill_pct.domain <span class="op">=</span> <span class="fl">0</span><span class="op">:</span><span class="fl">100</span>,</span>
<span>  fill_border.color <span class="op">=</span> <span class="st">"transparent"</span>,</span>
<span>  fill_border.radius <span class="op">=</span> <span class="st">"10px"</span>,</span>
<span>  background_border.color <span class="op">=</span> <span class="st">"thin solid black"</span>,</span>
<span>  background_border.radius <span class="op">=</span> <span class="st">"12px"</span>,</span>
<span>  background_fill.color <span class="op">=</span> <span class="st">"#b1b1b1"</span>,</span>
<span>  background_fill.width <span class="op">=</span> <span class="st">"100%"</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-gt-tbl">gt_tbl<a class="anchor" aria-label="anchor" href="#arg-gt-tbl"></a></dt>
<dd><p>A table object that is created using the <code><a href="https://gt.rstudio.com/reference/gt.html" class="external-link">gt::gt()</a></code> function.</p></dd>


<dt id="arg-col-value">col_value<a class="anchor" aria-label="anchor" href="#arg-col-value"></a></dt>
<dd><p>Column name of the value to be printed.</p></dd>


<dt id="arg-col-pct">col_pct<a class="anchor" aria-label="anchor" href="#arg-col-pct"></a></dt>
<dd><p>Column name of percentage values controlling the fill width.
If this is not in a 0 - 100 range, use <code>value_scale</code> to scale it up.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Currently not used.</p></dd>


<dt id="arg-rows">rows<a class="anchor" aria-label="anchor" href="#arg-rows"></a></dt>
<dd><p><em>Rows to target</em></p>
<p><code>&lt;row-targeting expression&gt;</code> // <em>default:</em> <code><a href="https://tidyselect.r-lib.org/reference/everything.html" class="external-link">everything()</a></code></p>
<p>In conjunction with <code>columns</code>, we can specify which of their rows should
form a constraint for extraction. The default <code><a href="https://tidyselect.r-lib.org/reference/everything.html" class="external-link">everything()</a></code> results in all
rows in <code>columns</code> being formatted. Alternatively, we can supply a vector of
row IDs within <code><a href="https://rdrr.io/r/base/c.html" class="external-link">c()</a></code>, a vector of row indices, or a select helper function
(e.g. <code><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">starts_with()</a></code>, <code><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">ends_with()</a></code>, <code><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">contains()</a></code>, <code><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">matches()</a></code>,
<code><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">num_range()</a></code>, and <code><a href="https://tidyselect.r-lib.org/reference/everything.html" class="external-link">everything()</a></code>). We can also use expressions to filter
down to the rows we need (e.g., <code>[colname_1] &gt; 100 &amp; [colname_2] &lt; 50</code>).</p></dd>


<dt id="arg-hide-col-pct">hide_col_pct<a class="anchor" aria-label="anchor" href="#arg-hide-col-pct"></a></dt>
<dd><p>If <code>TRUE</code>, the column in <code>col_pct</code> will be hidden in the
resulting table.</p></dd>


<dt id="arg-value-scale">value_scale<a class="anchor" aria-label="anchor" href="#arg-value-scale"></a></dt>
<dd><p>A scaling factor: values from column <code>col_pct</code> will be
multiplied by <code>value_scale</code> before proceeding. This is useful if the
underlying data is in a 0 - 1 range, instead of the required 0 - 100 range.</p></dd>


<dt id="arg-value-padding-left">value_padding_left<a class="anchor" aria-label="anchor" href="#arg-value-padding-left"></a></dt>
<dd><p>Left padding of the printed text.</p></dd>


<dt id="arg-value-padding-right">value_padding_right<a class="anchor" aria-label="anchor" href="#arg-value-padding-right"></a></dt>
<dd><p>Right padding of the printed text.</p></dd>


<dt id="arg-value-dark-color">value_dark_color<a class="anchor" aria-label="anchor" href="#arg-value-dark-color"></a></dt>
<dd><p>The color of the dark text option.
The function will calculate color contrast ratios with
<a href="https://colorspace.R-Forge.R-project.org/reference/contrast_ratio.html" class="external-link">colorspace::contrast_ratio</a> and, based on this, decide whether the dark or
light option is more readable. NOTE: this uses colors from <code>fill_palette</code>
and not the color from <code>background_fill.color</code> as background because it is
not trivial to figure out the actual background of the text.</p></dd>


<dt id="arg-value-light-color">value_light_color<a class="anchor" aria-label="anchor" href="#arg-value-light-color"></a></dt>
<dd><p>The color of the light text option.
The function will calculate color contrast ratios with
<a href="https://colorspace.R-Forge.R-project.org/reference/contrast_ratio.html" class="external-link">colorspace::contrast_ratio</a> and, based on this, decide whether the dark or
light option is more readable. NOTE: this uses colors from <code>fill_palette</code>
and not the color from <code>background_fill.color</code> as background because it is
not trivial to figure out the actual background of the text.</p></dd>


<dt id="arg-fill-palette">fill_palette<a class="anchor" aria-label="anchor" href="#arg-fill-palette"></a></dt>
<dd><p>The colors that values will be mapped to. This can also
be one of <code>"hulk"</code>, <code>"hulk_teal"</code>, or <code>"blue_orange"</code> which will trigger
internal color palettes. Argument passed on to <a href="https://scales.r-lib.org/reference/col_numeric.html" class="external-link">scales::col_numeric</a>.</p></dd>


<dt id="arg-fill-palette-reverse">fill_palette.reverse<a class="anchor" aria-label="anchor" href="#arg-fill-palette-reverse"></a></dt>
<dd><p>Whether the vector of colors in <code>fill_palette</code>
should be reversed. Argument passed on to <a href="https://scales.r-lib.org/reference/col_numeric.html" class="external-link">scales::col_numeric</a>.</p></dd>


<dt id="arg-fill-na-color">fill_na.color<a class="anchor" aria-label="anchor" href="#arg-fill-na-color"></a></dt>
<dd><p>Fill color in case of <code>NA</code> values. Argument passed on to
<a href="https://scales.r-lib.org/reference/col_numeric.html" class="external-link">scales::col_numeric</a>.</p></dd>


<dt id="arg-fill-pct-domain">fill_pct.domain<a class="anchor" aria-label="anchor" href="#arg-fill-pct-domain"></a></dt>
<dd><p>The possible values that colors in <code>fill_palette</code> can
be mapped to.</p></dd>


<dt id="arg-fill-border-color">fill_border.color<a class="anchor" aria-label="anchor" href="#arg-fill-border-color"></a></dt>
<dd><p>Border color of color filled area.</p></dd>


<dt id="arg-fill-border-radius">fill_border.radius<a class="anchor" aria-label="anchor" href="#arg-fill-border-radius"></a></dt>
<dd><p>Border radius of color filled area.</p></dd>


<dt id="arg-background-border-color">background_border.color<a class="anchor" aria-label="anchor" href="#arg-background-border-color"></a></dt>
<dd><p>Border color of background.</p></dd>


<dt id="arg-background-border-radius">background_border.radius<a class="anchor" aria-label="anchor" href="#arg-background-border-radius"></a></dt>
<dd><p>Border radius of background.</p></dd>


<dt id="arg-background-fill-color">background_fill.color<a class="anchor" aria-label="anchor" href="#arg-background-fill-color"></a></dt>
<dd><p>Fill color of background.</p></dd>


<dt id="arg-background-fill-width">background_fill.width<a class="anchor" aria-label="anchor" href="#arg-background-fill-width"></a></dt>
<dd><p>Width of background.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>An object of class <code>gt_tbl</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The function allows extensive styling of the bars and text. All styling
parameters are interpreted as style properties of a html span tag. For more
info on CSS properties, see <a href="https://www.w3schools.com/cssref/index.php" class="external-link">https://www.w3schools.com/cssref/index.php</a>.</p><div class="section">
<h3 id="some-notes-about-styling">Some notes about styling<a class="anchor" aria-label="anchor" href="#some-notes-about-styling"></a></h3>


<p>Since this is meant to be an extension of an already existing 'gt' table,
you'll have to do some styling outside of this function, esp. the horizontal
alignment and direction will be controlled by <code><a href="https://gt.rstudio.com/reference/cols_align.html" class="external-link">gt::cols_align</a></code> (see example).</p>
<p>Make sure to play around with <code>fill_border.radius</code> and
<code>background_border.radius</code>. Results will depend on final column width and
percentiles. Very short percentile bars, i.e. small values in <code>col_pct</code>,
might result in bars crossing the border when combined with a
big border radius.</p>
<p>Text alignment depending on the colored bar isn't as easy as one might think.
Try percent values in <code>value_padding_left</code> or <code>value_padding_right</code> to avoid
overlapping of text values and the outline of the colored bars.</p>
<p>For more information and examples, see the article that describes how
nflplotR works with the 'gt' package
<a href="https://nflplotr.nflverse.com/articles/gt.html">https://nflplotr.nflverse.com/articles/gt.html</a>.</p>
</div>

    </div>
    <div class="section level2">
    <h2 id="output-of-below-example">Output of below example<a class="anchor" aria-label="anchor" href="#output-of-below-example"></a></h2>


<p><img src="figures/pct_tbl.png" width="66%"></p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>The article that describes how nflplotR works with the 'gt' package
<a href="https://nflplotr.nflverse.com/articles/gt.html">https://nflplotr.nflverse.com/articles/gt.html</a></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Make a data.table of mtcars and select only disp and hp</span></span></span>
<span class="r-in"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">data.table</span><span class="fu">::</span><span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/as.data.table.html" class="external-link">as.data.table</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">)</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">disp</span>, <span class="va">hp</span><span class="op">)</span><span class="op">]</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Add the percentile of hp in the distribution of hp values</span></span></span>
<span class="r-in"><span><span class="va">data</span><span class="op">[</span>, <span class="va">pct</span> <span class="op">:=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fu">stats</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/stats/ecdf.html" class="external-link">ecdf</a></span><span class="op">(</span><span class="va">hp</span><span class="op">)</span><span class="op">(</span><span class="va">hp</span><span class="op">)</span> <span class="op">*</span> <span class="fl">100</span>, <span class="fl">1</span><span class="op">)</span><span class="op">]</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      disp    hp   pct</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     &lt;num&gt; &lt;num&gt; &lt;num&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  1: 160.0   110  43.8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  2: 160.0   110  43.8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  3: 108.0    93  21.9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  4: 258.0   110  43.8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  5: 360.0   175  68.8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  6: 225.0   105  31.2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  7: 360.0   245  93.8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  8: 146.7    62   6.2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  9: 140.8    95  25.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10: 167.6   123  53.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11: 167.6   123  53.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12: 275.8   180  78.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13: 275.8   180  78.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14: 275.8   180  78.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15: 472.0   205  81.2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16: 460.0   215  84.4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17: 440.0   230  87.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18:  78.7    66  15.6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19:  75.7    52   3.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20:  71.1    65   9.4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21: 120.1    97  28.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22: 318.0   150  59.4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23: 304.0   150  59.4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24: 350.0   245  93.8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 25: 400.0   175  68.8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 26:  79.0    66  15.6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 27: 120.3    91  18.8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 28:  95.1   113  46.9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 29: 351.0   264  96.9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 30: 145.0   175  68.8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 31: 301.0   335 100.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 32: 121.0   109  34.4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      disp    hp   pct</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># set seed to keep it reproducible</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">20</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># take random sample (to avoid a big table) and add the percent bars for hp</span></span></span>
<span class="r-in"><span><span class="co"># using the percentiles in the pct variable</span></span></span>
<span class="r-in"><span><span class="va">table</span> <span class="op">&lt;-</span> <span class="va">data</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="va">.N</span>, <span class="fl">10</span><span class="op">)</span><span class="op">]</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu">gt</span><span class="fu">::</span><span class="fu"><a href="https://gt.rstudio.com/reference/gt.html" class="external-link">gt</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu">nflplotR</span><span class="fu">::</span><span class="fu">gt_pct_bar</span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="st">"hp"</span>,</span></span>
<span class="r-in"><span>    <span class="st">"pct"</span>,</span></span>
<span class="r-in"><span>    hide_col_pct <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>    value_padding_left <span class="op">=</span> <span class="st">"10px"</span>,</span></span>
<span class="r-in"><span>  <span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu">gt</span><span class="fu">::</span><span class="fu"><a href="https://gt.rstudio.com/reference/cols_align.html" class="external-link">cols_align</a></span><span class="op">(</span><span class="st">"left"</span>, <span class="va">hp</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu">gt</span><span class="fu">::</span><span class="fu"><a href="https://gt.rstudio.com/reference/cols_width.html" class="external-link">cols_width</a></span><span class="op">(</span><span class="va">hp</span> <span class="op">~</span> <span class="fu">gt</span><span class="fu">::</span><span class="fu"><a href="https://gt.rstudio.com/reference/px.html" class="external-link">px</a></span><span class="op">(</span><span class="fl">250</span><span class="op">)</span><span class="op">)</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://mrcaseb.com" class="external-link">Sebastian Carl</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.9000.</p>
</div>

    </footer></div>





  </body></html>

